// $Id: test_lights_cfl_power.glm 2009-07-13 22:08:36Z Ben Nguyen $
// Copyright (C) 2009 Battelle Memorial Institute
//
//Purpose: This test is primarily to check if the power factor calculations of cfl bulbs is correct. It uses the
//generic_demand.glt file. As of 07/14/2009, this test is optional because it is known that the power calculations for
//fluorescent bulbs do not work. The values from the player were hand calculated and tested in the lights_power.m file.
//
//Note: Last hand check passed 07/14/2009
//Payroll: D3P706

clock {
	timestamp '2000-01-01 0:00:00';
	stoptime '2000-01-01 24:00:00';
	timezone PST+8PDT;
}

module tape;
module residential;
module assert;

object house:1 {
	floor_area random.normal(1500,300) sf;
	heating_setpoint 10;
	cooling_setpoint 150;
	air_temperature 74;
	mass_temperature 74;
	thermostat_deadband 2;
}

object lights:2 {
	parent house:1;
	type CFL;
	installed_power 1000 W;
	object complex_assert {
		target "enduse_load";
		within .01;
		object player {
			property value;
			file "..\test_lights_cfl_power.player";
		};
	};
	object recorder{
		property enduse_load,internal_gains;
		file "test_lights_cfl_power.csv";
		interval 3600;
		limit 100;
	};	
}

object player{
	parent lights:2;
	property demand;
	file generic_demand.glt;
	loop 1;
}