// test_assert

clock {
	timezone PST+8PDT;
	starttime '2001-01-01 00:00:00 PST';
}
module assert;
module climate;

// double target
object climate {
	temperature 50;
	object assert {
		target "temperature";
		relation "==";
		value 50;
	};
	object assert {
		target "temperature";
		relation "<";
		value 51;
	};
	object assert {
		target "temperature";
		relation ">";
		value 49;
	};
	object assert {
		target "temperature";
		relation "<=";
		value 51;
	};
	object assert {
		target "temperature";
		relation "<=";
		value 50;
	};
	object assert {
		target "temperature";
		relation ">=";
		value 49;
	};
	object assert {
		target "temperature";
		relation ">=";
		value 50;
	};
	object assert {
		target "temperature";
		relation "inside";
		lower 49;
		upper 51;
	};
	object assert {
		target "temperature";
		relation "outside";
		lower 47;
		upper 49;
	};
	object assert {
		target "temperature";
		relation "outside";
		lower 51;
		upper 53;
	};
}

// complex target
module powerflow;

object meter {
	nominal_voltage 120;
	phases A;
	voltage_A 120.0+1j;
	object assert {
		target "voltage_A";
		part "real";
		relation "==";
		value "120.0";
	};
	object assert {
		target "voltage_A";
		part "imag";
		relation "==";
		value "1.0";
	};
	object assert {
		target "voltage_A";
		part "mag";
		relation ">";
		value "120.0";
	};
	object assert {
		target "voltage_A";
		part "ang";
		relation "inside";
		lower "0.0";
		upper "2.0";
	};
}

// enduse target
module residential;
object house {
	object assert {
		target "panel";
		part "energy.real";
		relation "inside";
		lower "0.0";
		upper "1.0";
	};
}
		
// todo int16,int32,int64,string targets