########################################################
# BEGIN
########################################################
# filename... example.glm
# workdir.... \GridlabD\source\test\input
# command.... --warn --verbose --test
# created.... June 2007
# classes.... 4
# objects.... 5

clock {
	timestamp '2000-01-01 0:00:00';
	timezone EST+5EDT;
}

########################################################
# modules
module network {
	acceleration_factor 1.1;
	convergence_limit 0.001;
}
module tape;
module climate;
module commercial;
module residential;

########################################################
# Wheatstone bridge
object node:0 {
	latitude 49N12'34";
	longitude 121W15'48.3";
	type 3; # swing bus
	name "Feeder";
	V random.uniform(0.5,1.5);
}
object node:1 {
	parent node:0;
}
object node:2 {
	parent node:0;
}
object node:3 {
	parent node:0;
	name "Load";
}
object link:4 {
	parent node:1;
	Y 8+0.8j;
	from node:0;
	to node:1;
}
object link:5 {
	parent node:2;
	Y 10+1j;
	from node:0;
	to node:2;
}
object link:6 {
	parent node:1;
	Y 5+0.5j;
	from node:1;
	to node:2;
}
object link:7 {
	parent node:1;
	Y 8+0.8j;
	from node:1;
	to node:3;
}
object link:8 {
	parent node:2;
	Y 10+1j;
	from node:2;
	to node:3;
}
object player:9 {
	parent node:3;
	property S;
	file test1.txt;
	loop 5000;
}

object recorder {
	parent node.name:Feeder;
	property S;
	file feeder.txt;
	interval -1;
	limit 1000;
}
object recorder {
	parent node:3;
	property S;
	file load.txt;
	interval -1;
	limit 1000;
}

# an island for testing purposes
#object node:12 {
#}
#object node:13 {
#}
#object link:14 {
#	from node:12;
#	to node:13;
#}

#object collector:14 {
#	property avg|V.ang|,min(V.mag);
#	file aggr.txt;
#	interval -1;
#	limit 1000;
#	group class=node;
#}

object climate {
}

object office:20..30 {
	parent node.name:Load;
	floorarea_sf random.normal(10000,1000);
}

object recorder:..10 {
	parent office:*;
	property floorarea_sf;
	file office_area.txt;
	interval -1;
	limit 10;
}

#object shaper {
#	file dryer.txt;
#	group class=office;
#	property occupancy;
#	magnitude 5;
#	#events 0;
#}

#object collector {
#	group class=office;
#	property sum(occupancy),count(occupancy);
#	file loadshape.txt;
#	interval 0;
#	limit 1000;
#}

########################################################
# END
########################################################
